# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                    ZSH CONFIG - CYBERPUNK                     â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# INSTANT PROMPT
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ENVIRONMENT
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
export ZSH="$HOME/.oh-my-zsh"
export PATH="$HOME/.local/bin:$HOME/.bun/bin:$PATH"
export BUN_INSTALL="$HOME/.bun"
export EDITOR="nvim"
export VISUAL="nvim"
export NVM_DIR="$HOME/.nvm"
source /usr/share/nvm/init-nvm.sh


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# OH-MY-ZSH THEME & PLUGINS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ZSH_THEME="powerlevel10k/powerlevel10k"

plugins=(
  git
  sudo
  history
  zsh-autosuggestions
  zsh-syntax-highlighting
  fzf-tab
  colored-man-pages
  node
  npm
)

source $ZSH/oh-my-zsh.sh

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# SYNTAX HIGHLIGHTING COLORS (Cyberpunk Theme)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
typeset -A ZSH_HIGHLIGHT_STYLES

ZSH_HIGHLIGHT_STYLES[default]='fg=#e0e0e0'
ZSH_HIGHLIGHT_STYLES[unknown-token]='fg=#ff0055,bold'
ZSH_HIGHLIGHT_STYLES[reserved-word]='fg=#bd00ff'
ZSH_HIGHLIGHT_STYLES[alias]='fg=#00e6e6'
ZSH_HIGHLIGHT_STYLES[builtin]='fg=#00e6e6'
ZSH_HIGHLIGHT_STYLES[function]='fg=#00e6e6'
ZSH_HIGHLIGHT_STYLES[command]='fg=#00e6e6'
ZSH_HIGHLIGHT_STYLES[precommand]='fg=#00e6e6,underline'
ZSH_HIGHLIGHT_STYLES[commandseparator]='fg=#ff0055'
ZSH_HIGHLIGHT_STYLES[hashed-command]='fg=#00e6e6'
ZSH_HIGHLIGHT_STYLES[path]='fg=#bd00ff'
ZSH_HIGHLIGHT_STYLES[globbing]='fg=#ffcc00'
ZSH_HIGHLIGHT_STYLES[history-expansion]='fg=#bd00ff,bold'
ZSH_HIGHLIGHT_STYLES[single-hyphen-option]='fg=#ffcc00'
ZSH_HIGHLIGHT_STYLES[double-hyphen-option]='fg=#ffcc00'
ZSH_HIGHLIGHT_STYLES[back-quoted-argument]='fg=#bd00ff'
ZSH_HIGHLIGHT_STYLES[single-quoted-argument]='fg=#ff0055'
ZSH_HIGHLIGHT_STYLES[double-quoted-argument]='fg=#ff0055'
ZSH_HIGHLIGHT_STYLES[dollar-double-quoted-argument]='fg=#ffcc00'
ZSH_HIGHLIGHT_STYLES[back-double-quoted-argument]='fg=#ffcc00'
ZSH_HIGHLIGHT_STYLES[assign]='fg=#e0e0e0'

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# AUTOSUGGESTIONS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=#666666'
ZSH_AUTOSUGGEST_STRATEGY=(history completion)

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# FZF CONFIGURATION
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
export FZF_DEFAULT_OPTS="
  --color=fg:#e0e0e0,bg:#0a0a0f,hl:#ff0055
  --color=fg+:#ffffff,bg+:#1a1a25,hl+:#ff0055
  --color=info:#00e6e6,prompt:#ff0055,pointer:#ff0055
  --color=marker:#ffcc00,spinner:#bd00ff,header:#bd00ff
  --border=rounded
  --prompt='â¯ '
  --pointer='â–¶'
  --marker='âœ“'
  --layout=reverse
  --height=60%
"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# âš¡ GIT ALIASES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
alias g='git'
alias ga='git add'
alias gaa='git add .'
alias gb='git branch'
alias gco='git checkout'
alias gcm='git commit -m'
alias gcam='git commit -am'
alias gp='git push'
alias gpl='git pull'
alias gst='git status'
alias gl='git log --oneline --graph --all --decorate'
alias gdf='git diff'
alias gds='git diff --staged'

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ³ DOCKER ALIASES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
alias d='docker'
alias dps='docker ps'
alias dpa='docker ps -a'
alias dcu='docker compose up'
alias dcud='docker compose up -d'
alias dcd='docker compose down'
alias dcb='docker compose build'
alias dex='docker exec -it'
alias dim='docker images'
alias drm='docker rm'
alias drmi='docker rmi'

# Docker logs with fzf
dcl() {
  local container
  container=$(docker ps --format '{{.Names}}' | fzf --prompt="ğŸ“‹ Select container: ")
  [[ -n "$container" ]] && docker logs -f "$container"
}

# Docker exec with fzf
dce() {
  local container
  container=$(docker ps --format '{{.Names}}' | fzf --prompt="ğŸ”§ Select container: ")
  if [[ -n "$container" ]]; then
    if docker exec "$container" bash -c "command -v bash" &>/dev/null; then
      docker exec -it "$container" bash
    elif docker exec "$container" sh -c "command -v sh" &>/dev/null; then
      docker exec -it "$container" sh
    else
      echo "âŒ No shell found in $container"
    fi
  fi
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ˜ POSTGRESQL SHORTCUTS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
alias pgc='psql'
alias pgl='psql -l'
alias pgu='psql -c "\du"'

# Connect to DB interactively
pgci() {
  local db
  db=$(psql -lqt | awk '{print $1}' | grep -v '^$' | fzf --prompt="ğŸ—„ï¸  Select database: ")
  [[ -n "$db" ]] && psql "$db"
}

# Backup database
pgdump() {
  local db
  db=$(psql -lqt | awk '{print $1}' | grep -v '^$' | fzf --prompt="ğŸ’¾ Backup database: ")
  [[ -n "$db" ]] && pg_dump "$db" > "${db}_$(date +%Y%m%d_%H%M%S).sql" && \
    echo "âœ“ Backup saved: ${db}_$(date +%Y%m%d_%H%M%S).sql"
}

# Restore database
pgrestore() {
  local file db
  file=$(fd -e sql | fzf --prompt="ğŸ“‚ Select SQL file: ")
  db=$(psql -lqt | awk '{print $1}' | grep -v '^$' | fzf --prompt="ğŸ—„ï¸  Restore to database: ")
  [[ -n "$file" && -n "$db" ]] && psql "$db" < "$file" && echo "âœ“ Restored $file â†’ $db"
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“¦ NPM / NODE / BUN
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
alias nr='npm run'
alias ni='npm install'
alias ns='npm start'
alias nd='npm run dev'
alias bi='bun install'
alias br='bun run'
alias bd='bun run dev'

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸš€ SYSTEM SHORTCUTS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
alias c='clear'
alias clr='clear'
alias v='nvim'
alias vim='nvim'
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias ~='cd ~'
alias h='history | tail -50'
alias ls='eza --icons --group-directories-first'
alias ll='eza -la --icons --group-directories-first'
alias lt='eza --tree --level=2 --icons'
alias cat='bat --style=plain'
alias myvps='ssh -i ~/.ssh/droplet-vps root@167.99.250.44'

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“ QUICK NAVIGATION
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
alias projects='cd ~/Projects'
alias docs='cd ~/Documents'
alias dl='cd ~/Downloads'

# Smart cd with fzf
function cdf() {
  local dir
  dir=$(fd --type d --hidden --exclude .git | fzf --prompt="ğŸ“ Navigate to: ")
  [[ -n "$dir" ]] && cd "$dir"
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ” ENHANCED SEARCH
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Find and edit file
function fe() {
  local file
  file=$(fd --type f --hidden --exclude .git | fzf --prompt="âœï¸  Edit file: " --preview="bat --color=always {}")
  [[ -n "$file" ]] && ${EDITOR:-nvim} "$file"
}

# Grep with fzf
function rgf() {
  local selected
  selected=$(rg --color=always --line-number --no-heading --smart-case "${*:-}" |
    fzf --ansi --prompt="ğŸ” Search: " \
        --delimiter ':' \
        --preview 'bat --color=always {1} --highlight-line {2}' \
        --preview-window 'up,60%,border-rounded,+{2}+3/3,~3')
  [[ -n "$selected" ]] && ${EDITOR:-nvim} $(echo "$selected" | cut -d':' -f1)
}

eval "$(zoxide init zsh --cmd cd)"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ¯ UTILITY FUNCTIONS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Make directory and cd into it
function mkcd() {
  mkdir -p "$1" && cd "$1"
}


# MAVEN SPRING

function sb-run() {
  if [ -f "./mvnw" ]; then
    echo "Using ./mvnw to run Spring Boot..."
    ./mvnw spring-boot:run "$@"
  else
    echo "Using system mvn to run Spring Boot..."
    mvn spring-boot:run "$@"
  fi
}


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# POWERLEVEL10K
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh

# Bun completions
[ -s "$HOME/.bun/_bun" ] && source "$HOME/.bun/_bun"

# pnpm
export PNPM_HOME="/home/kyojin/.local/share/pnpm"
case ":$PATH:" in
  *":$PNPM_HOME:"*) ;;
  *) export PATH="$PNPM_HOME:$PATH" ;;
esac
# pnpm end


# Load Angular CLI autocompletion.
source <(ng completion script)
